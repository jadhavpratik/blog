<!DOCTYPE html>
<html lang="mr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>‡§§‡§æ‡§ú‡•ç‡§Ø‡§æ ‡§¨‡§æ‡§§‡§Æ‡•ç‡§Ø‡§æ</title>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Marathi:wght@400;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  <style>
    body {
      font-family: 'Noto Sans Marathi', sans-serif;
      margin: 0;
      background-color: #f0f2f5;
      color: #333;
    }
    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 10px;
    }
    .section-title {
      font-size: 24px;
      font-weight: 700;
      color: #333;
      margin: 15px 0;
      border-bottom: 3px solid #1a73e8;
      display: inline-block;
      padding-bottom: 5px;
    }
    .news-article {
      background-color: #fff;
      border-radius: 8px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
      margin-bottom: 25px;
      overflow: hidden;
    }
    .news-image {
      position: relative;
      width: 100%;
      height: auto;
      overflow: hidden;
    }
    .news-image img {
      width: 100%;
      height: auto;
      display: block;
      cursor: zoom-in;
      transition: transform 0.3s ease;
    }
    .image-overlay {
      position: absolute;
      bottom: 0;
      left: 0;
      width: 100%;
      background-color: rgba(0, 0, 0, 0.6);
      color: #fff;
      padding: 10px;
      font-weight: 700;
      font-size: 18px;
    }
    .article-headline {
      font-size: 20px;
      font-weight: 700;
      color: #333;
      padding: 15px;
      margin: 0;
    }
    .article-content {
      padding: 0 15px 15px;
      color: #555;
      font-size: 15px;
      line-height: 1.6;
    }
    .article-meta {
      padding: 0 15px 15px;
      font-size: 13px;
      color: #777;
      display: flex;
      align-items: center;
    }
    .article-meta .separator {
      margin: 0 5px;
      color: #ccc;
    }
    .social-share {
      padding: 0 15px 15px;
    }
    .social-share a {
      margin-right: 10px;
      font-size: 18px;
      text-decoration: none;
      color: #1a73e8;
    }
    .social-share a:hover { color: #0d47a1; }
    .admin-update-btn {
      position: fixed;
      top: 15px;
      right: 15px;
      background-color: #f44336;
      color: white;
      padding: 10px 15px;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      font-weight: bold;
      box-shadow: 0 2px 6px rgba(0,0,0,0.2);
      z-index: 1000;
    }
    .admin-update-btn:hover { background-color: #d32f2f; }
    .delete-btn {
      background-color: #f44336;
      color: #fff;
      border: none;
      border-radius: 4px;
      padding: 6px 10px;
      cursor: pointer;
      margin: 0 0 10px 15px;
    }
    .delete-btn:hover { background-color: #d32f2f; }
    /* Image viewer (zoom full view) */
    .image-viewer {
      display: none;
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: rgba(0,0,0,0.9);
      justify-content: center;
      align-items: center;
      z-index: 2000;
    }
    .image-viewer img {
      max-width: 90%;
      max-height: 90%;
      border-radius: 8px;
    }
    @media (max-width: 768px) {
      .article-headline { font-size: 18px; }
      .section-title { font-size: 22px; }
      .image-overlay { font-size: 16px; }
    }
  </style>
</head>
<body>

  <button class="admin-update-btn" onclick="goToLogin()">(Admin) Update Content</button>

  <main class="main-content">
    <div class="container">
      <h1 class="section-title">‡§§‡§æ‡§ú‡•ç‡§Ø‡§æ ‡§¨‡§æ‡§§‡§Æ‡•ç‡§Ø‡§æ</h1>
      <div id="latest-news"></div>
    </div>
  </main>

  <!-- Full Image Viewer -->
  <div class="image-viewer" id="imageViewer" onclick="closeViewer()">
    <img id="viewerImage" src="">
  </div>

  <script>
    function goToLogin() {
      window.location.href = "login.html";
    }

    // Load news
    function loadNews() {
      const newsContainer = document.getElementById('latest-news');
      const allNews = JSON.parse(localStorage.getItem('newsList')) || [];
      const adminLogged = localStorage.getItem('isAdmin') === 'true';

      newsContainer.innerHTML = '';
      if (allNews.length === 0) {
        newsContainer.innerHTML = '<p>üì∞ ‡§Ö‡§ú‡•Ç‡§® ‡§ï‡•ã‡§£‡§§‡•Ä‡§π‡•Ä ‡§¨‡§æ‡§§‡§Æ‡•Ä ‡§ú‡•ã‡§°‡§≤‡•á‡§≤‡•Ä ‡§®‡§æ‡§π‡•Ä.</p>';
        return;
      }

      allNews.forEach((news, index) => {
        const article = document.createElement('div');
        article.classList.add('news-article');
        article.innerHTML = `
          <div class="news-image">
            <img src="${news.photo}" alt="News Photo" onerror="this.src='https://via.placeholder.com/700x400?text=No+Image'" onclick="viewImage('${news.photo}')">
            <div class="image-overlay">${news.overlay || '‡§§‡§æ‡§ú‡•ç‡§Ø‡§æ ‡§ò‡§°‡§æ‡§Æ‡•ã‡§°‡•Ä'}</div>
          </div>
          ${adminLogged ? `<button class="delete-btn" onclick="deleteNews(${index})">Delete</button>` : ''}
          <h2 class="article-headline">${news.headline}</h2>
          <div class="article-content">${news.content}</div>
          <div class="social-share">
            <a href="https://www.youtube.com/share?url=${encodeURIComponent(window.location.href)}" target="_blank"><i class="fab fa-youtube"></i></a>
            <a href="https://www.instagram.com/?url=${encodeURIComponent(window.location.href)}" target="_blank"><i class="fab fa-instagram"></i></a>
          </div>
          <div class="article-meta">
            <span class="author">Admin</span>
            <span class="separator">¬∑</span>
            <span class="time">${news.time}</span>
          </div>
        `;
        newsContainer.appendChild(article);
      });
    }

    function viewImage(src) {
      const viewer = document.getElementById('imageViewer');
      const img = document.getElementById('viewerImage');
      img.src = src;
      viewer.style.display = 'flex';
    }

    function closeViewer() {
      document.getElementById('imageViewer').style.display = 'none';
    }

    function deleteNews(index) {
      if (confirm("Delete this news?")) {
        let newsList = JSON.parse(localStorage.getItem('newsList')) || [];
        newsList.splice(index, 1);
        localStorage.setItem('newsList', JSON.stringify(newsList));
        loadNews();
      }
    }

    window.onload = loadNews;
  </script>
</body>
</html>
